######################################################################
# Lovelace UI Configuration
######################################################################

title: Casa Ravera-Testa

resources:
  - url: /hacsfiles/button-card/button-card.js
    type: module
  - url: /hacsfiles/zigbee2mqtt-networkmap/zigbee2mqtt-networkmap.js?v=0.6.0
    type: module
  - url: /hacsfiles/lovelace-battery-entity/battery-entity.js?v=1
    type: module
  - url: /hacsfiles/lovelace-slider-entity-row/slider-entity-row.js
    type: module

background: var(--background-image)

views:
######################################################################
# Main View
######################################################################
  - title: Principale
    id: main
    icon: mdi:home
    badges:
      - device_tracker.google_maps_115265981849847357125
      - device_tracker.google_maps_103158638433668748797
      - device_tracker.wdd1760081v167576    
      - sensor.time
      - binary_sensor.porta_casa
      - binary_sensor.home_mode
      - binary_sensor.guard_mode
      - binary_sensor.speech_notifications
      #- binary_sensor.text_notifications
      - binary_sensor.alarms
      - sensor.potenza_istantanea
    cards:
    - type: picture-glance
      title: Cucina
      show_state: true
      state_image:
        "on": /local/images/rooms/cucina_on.jpg
        "off": /local/images/rooms/cucina_off.jpg
      entity: light.luce_cucina
      entities:
      - light.luce_cucina
      - cover.tapparella_cucina
      - climate.cucina_termostato_cucina
      - media_player.google_home

    - type: picture-glance
      title: Sala
      show_state: true
      state_image:
        "on": /local/images/rooms/sala_on.jpg
        "off": /local/images/rooms/sala_off.jpg
      entity: group.lights_livingroom
      entities: 
      - light.luce_sala
      - light.luce_divano
      #- light.luce_divano_bianca
      - cover.tapparella_sala
      - climate.sala_termostato_sala
      - media_player.tv_sala

    - type: picture-glance
      title: Corridoio
      show_state: true
      state_image:
        "on": /local/images/rooms/corridoio_on.jpg
        "off": /local/images/rooms/corridoio_off.jpg
      entity: light.luce_corridoio
      image: 
      entities: 
      - light.luce_corridoio

    - type: picture-glance
      title: Bagno
      show_state: true
      state_image:
        "on": /local/images/rooms/bagno_on.jpg
        "off": /local/images/rooms/bagno_off.jpg
      entity: group.lights_bathroom
      entities: 
      - light.luce_bagno
      - light.luce_specchio
      - climate.bagno_termostato_bagno

    - type: picture-glance
      title: Studio
      show_state: true
      state_image:
        "on": /local/images/rooms/studio_on.jpg
        "off": /local/images/rooms/studio_off.jpg
      entity: light.luce_studio
      entities: 
      - light.luce_studio
      - cover.tapparella_studio
      - climate.studio_termostato_studio

    - type: picture-glance
      title: Camera
      show_state: true
      state_image:
        "on": /local/images/rooms/camera_on.jpg
        "off": /local/images/rooms/camera_off.jpg
      entity: light.luce_camera
      entities: 
      - light.luce_camera
      - cover.tapparella_camera
      - climate.camera_termostato_camera

    - type: picture-glance
      title: Balcone
      show_state: true
      state_image:
        "on": /local/images/rooms/balcone_on.jpg
        "off": /local/images/rooms/balcone_off.jpg
      entity: light.luce_balcone
      entities: 
      - light.luce_balcone

    - type: entities
      title: Modalità Casa
      show_header_toggle: false
      entities:
      - input_boolean.home_mode_day
      - input_boolean.home_mode_night
      - input_boolean.home_mode_away
      - input_boolean.guard_mode
      
    - type: sensor
      entity: sensor.potenza_istantanea
      name: Consumo Energetico
      graph: line
      unit: W
      detail: 2

    - type: entities
      title: Controlli Vari
      show_header_toggle: false
      entities:
      - script.speech_status
      - script.speech_consumption
      - automation.risveglio_giorgio

    - type: entities
      title: Eventi
      show_header_toggle: false
      entities:
      - input_datetime.away_mode_end

    - type: entity-filter
      title: Eventi da Segnalare
      entities:
        - input_boolean.alarms
        - input_boolean.door_alarm
        - input_boolean.update      
        - binary_sensor.ff590mr_engine_light_warning
        - binary_sensor.ff590mr_warning_brakefluid
        - binary_sensor.ff590mr_warning_washwater
        - binary_sensor.ff590mr_warning_coolantlevellow
      state_filter:
      - "on"

######################################################################
# Lights
######################################################################
  - title: Luci
    id: light
    icon: mdi:lightbulb
    badges:
      - light.luce_cucina
      - light.luce_corridoio
      - light.luce_sala
      - light.luce_divano
      - light.luce_bagno
      - light.luce_specchio
      - light.luce_studio
      - light.luce_camera
      - light.luce_balcone
    cards:
    - type: entities
      title: Comandi luci
      show_header_toggle: false
      entities:
        - light.luci_casa
        - light.luce_cucina
        - light.luce_corridoio
        - light.luci_sala
        - light.luce_sala
        - light.luce_divano
        - light.luci_bagno
        - light.luce_bagno
        - light.luce_specchio
        - light.luce_studio
        - light.luce_camera
        - light.luce_balcone
    
    - type: light
      name: Luci Casa
      entity: light.luci_casa

    - type: light
      name: Luce Cucina
      entity: light.luce_cucina

    - type: light
      name: Luce Corridoio
      entity: light.luce_corridoio

    - type: light
      name: Luci Sala
      entity: light.luci_sala

    - type: light
      name: Luce Divano
      entity: light.luce_divano

    - type: light
      name: Luci Bagno
      entity: light.luci_bagno

    - type: light
      name: Luce Bagno
      entity: light.luce_bagno

    - type: light
      name: Luce Specchio
      entity: light.luce_specchio

    - type: light
      name: Luce Studio
      entity: light.luce_studio

    - type: light
      name: Luce Camera
      entity: light.luce_camera

    - type: light
      name: Luce Balcone
      entity: light.luce_balcone

######################################################################
# Covers
######################################################################
  - title: Tapparelle
    id: covers
    #icon: mdi:window-closed
    icon: mdi:window-shutter
    badges:
      - sensor.tapparella_cucina
      - sensor.tapparella_sala
      - sensor.tapparella_studio
      - sensor.tapparella_camera
    cards:
      - type: entities
        title: Comandi tapparelle
        show_header_toggle: false
        entities:
          - cover.tapparelle_casa
          - type: custom:slider-entity-row
            entity: cover.tapparelle_casa
            full_row: true
          - cover.tapparella_cucina
          - type: custom:slider-entity-row
            entity: cover.tapparella_cucina
            full_row: true
          - cover.tapparella_sala
          - type: custom:slider-entity-row
            entity: cover.tapparella_sala
            full_row: true
          - cover.tapparella_studio
          - type: custom:slider-entity-row
            entity: cover.tapparella_studio
            full_row: true
          - cover.tapparella_camera
          - type: custom:slider-entity-row
            entity: cover.tapparella_camera
            full_row: true

######################################################################
# Climate
######################################################################
  - title: Termostato
    id: climate
    icon: mdi:thermometer
    badges:
      - sensor.termostato_cucina
      - sensor.termostato_sala
      - sensor.termostato_bagno
      - sensor.termostato_studio
      - sensor.termostato_camera
    cards:
      - type: thermostat
        entity: climate.cucina_termostato_cucina
      - type: thermostat
        entity: climate.sala_termostato_sala
      - type: thermostat
        entity: climate.bagno_termostato_bagno
      - type: thermostat
        entity: climate.studio_termostato_studio
      - type: thermostat
        entity: climate.camera_termostato_camera

######################################################################
# Multimedia
######################################################################
  - title: Dispositivi Multimediali
    id: multimedia
    icon: mdi:television
    cards:
      - type: vertical-stack
        title: TV Sala
        cards:
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              color_type: label-card
              color: rgb(46, 46, 46)
              name: Sony KD-55XF8596
              style:
                - background-color: rgb(46, 46, 46)
                - color: white
        # Top Botton
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              icon: mdi:television
              color_type: label-card
              color: rgb(46, 46, 46)
              size: 20%
              tap_action:
                action: call-service
                service: shell_command.bravia_input
            - type: "custom:button-card"
              icon: mdi:microphone
              color_type: label-card
              color: rgb(46, 46, 46)
              size: 20%
              tap_action:
                action: call-service
                service: shell_command.bravia_assists
            - type: "custom:button-card"
              entity: media_player.tv_sala
              icon: mdi:power
              size: 20%
              show_name: false
              show_state: false
              state:
                - value: 'off'
                  color: red
                - value: 'on'
                  color: green
              tap_action:
                action: call-service
                service: script.turn_on
                service_data:
                  entity_id: script.tv_sala_toggle
        # Top Buttons 2
        - type: horizontal-stack
          cards:
            - type: picture-elements
              image: /local/images/remote/backgrounds/bg_app_top.png
              elements:
              # Digital / Analog
              - type: image
                image: /local/images/remote/labels/digital_analog.png
                style:
                  top: 30%
                  left: 16%
                  width: 16%
                tap_action:
                  action: none
              - type: image
                image: /local/images/remote/black_button.png
                style:
                  top: 65%
                  left: 15%
                  width: 15%
                tap_action:
                  action: call-service
                  service: shell_command.bravia_digital
              # TV / Radio
              - type: image
                image: /local/images/remote/labels/tv_radio.png
                style:
                  top: 30%
                  left: 38%
                  width: 16%
                tap_action:
                  action: none
              - type: image
                image: /local/images/remote/black_button.png
                style:
                  top: 65%
                  left: 38%
                  width: 15%
                tap_action:
                  action: call-service
                  service: shell_command.bravia_tv_radio
              # Exit
              - type: image
                image: /local/images/remote/labels/exit.png
                style:
                  top: 30%
                  left: 62%
                  width: 16%
                tap_action:
                  action: none
              - type: image
                image: /local/images/remote/black_button.png
                style:
                  top: 65%
                  left: 62%
                  width: 15%
                tap_action:
                  action: call-service
                  service: shell_command.bravia_exit
              # Ext.Box Menu
              - type: image
                image: /local/images/remote/labels/ext_box_menu.png
                style:
                  top: 30%
                  left: 85%
                  width: 16%
                tap_action:
                  action: none
              - type: image
                image: /local/images/remote/black_button.png
                style:
                  top: 65%
                  left: 85%
                  width: 15%
                tap_action:
                  action: call-service
                  service: shell_command.bravia_exit
        # Numeric Button
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              color_type: label-card
              color: rgb(46, 46, 46)
              name: '1 ./'
              show_icon: false
              style:
                - font-size: 12px
              tap_action:
                action: call-service
                service: shell_command.bravia_num1
            - type: "custom:button-card"
              color_type: label-card
              color: rgb(46, 46, 46)
              name: '2 abc'
              show_icon: false
              style:
                - font-size: 7px
              tap_action:
                action: call-service
                service: shell_command.bravia_num2
            - type: "custom:button-card"
              color_type: label-card
              color: rgb(46, 46, 46)
              name: '3 def'
              show_icon: false
              style:
                - font-size: 12px
              tap_action:
                action: call-service
                service: shell_command.bravia_num3
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              color_type: label-card
              color: rgb(46, 46, 46)
              name: '4 ghi'
              show_icon: false
              style:
                - font-size: 12px
              tap_action:
                action: call-service
                service: shell_command.bravia_num4
            - type: "custom:button-card"
              color_type: label-card
              color: rgb(46, 46, 46)
              name: '5 jkl'
              show_icon: false
              style:
                - font-size: 12px
              tap_action:
                action: call-service
                service: shell_command.bravia_num5
            - type: "custom:button-card"
              color_type: label-card
              color: rgb(46, 46, 46)
              name: '6 mno'
              show_icon: false
              style:
                - font-size: 12px
              tap_action:
                action: call-service
                service: shell_command.bravia_num6
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              color_type: label-card
              color: rgb(46, 46, 46)
              name: '7 pqrs'
              show_icon: false
              style:
                - font-size: 12px
              tap_action:
                action: call-service
                service: shell_command.bravia_num7
            - type: "custom:button-card"
              color_type: label-card
              color: rgb(46, 46, 46)
              name: '8 tuv'
              show_icon: false
              style:
                - font-size: 12px
              tap_action:
                action: call-service
                service: shell_command.bravia_num8
            - type: "custom:button-card"
              color_type: label-card
              color: rgb(46, 46, 46)
              name: '9 wyz'
              show_icon: false
              style:
                - font-size: 12px
              tap_action:
                action: call-service
                service: shell_command.bravia_num9
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              color_type: label-card
              color: rgb(46, 46, 46)
              name: '?'
              show_icon: false
              style:
                - font-size: 12px
              tap_action:
                action: call-service
                service: shell_command.bravia_display
            - type: "custom:button-card"
              color_type: label-card
              color: rgb(46, 46, 46)
              name: '0'
              show_icon: false
              style:
                - font-size: 12px
              tap_action:
                action: call-service
                service: shell_command.bravia_num0
            - type: "custom:button-card"
              icon: mdi:card-text-outline
              color_type: label-card
              color: rgb(46, 46, 46)
              size: 12%
              tap_action:
                action: call-service
                service: shell_command.bravia_teletext
        # Google Play & Netflix
        - type: horizontal-stack
          cards:
          - type: picture-elements
            image: /local/images/remote/backgrounds/bg_app.png
            elements:
              - type: image
                image: /local/images/remote/google_play.png
                style:
                  top: 50%
                  left: 25%
                  width: 35%
                tap_action:
                  action: call-service
                  service: shell_command.bravia_googleplay
              - type: image
                image: /local/images/remote/netflix.png
                style:
                  top: 50%
                  left: 75%
                  width: 35%
                tap_action:
                  action: call-service
                  service: shell_command.bravia_netflix
        # Colored Buttons
        - type: horizontal-stack
          cards:
            - type: picture-elements
              image: /local/images/remote/backgrounds/bg_app.png
              elements:
              - type: image
                image: /local/images/remote/red_button.png
                style:
                  top: 50%
                  left: 15%
                  width: 15%
                tap_action:
                  action: call-service
                  service: shell_command.bravia_red
              - type: image
                image: /local/images/remote/green_button.png
                style:
                  top: 50%
                  left: 38%
                  width: 15%
                tap_action:
                  action: call-service
                  service: shell_command.bravia_green
              - type: image
                image: /local/images/remote/yellow_button.png
                style:
                  top: 50%
                  left: 62%
                  width: 15%
                tap_action:
                  action: call-service
                  service: shell_command.bravia_yellow
              - type: image
                image: /local/images/remote/blue_button.png
                style:
                  top: 50%
                  left: 85%
                  width: 15%
                tap_action:
                  action: call-service
                  service: shell_command.bravia_blue
        # Dpad buttons
        - type: horizontal-stack
          cards:
            - type: picture-elements
              image: /local/images/remote/backgrounds/dpad.png
              elements:
                - type: image
                  image: /local/images/remote/confirm.png
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_confirm
                  style:
                    top: 50%
                    left: 50%
                    width: 10%
                - type: image
                  image: /local/images/remote/arrow_left.png
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_left
                  style:
                    top: 50%
                    left: 27%
                    width: 15%
                - type: image
                  image: /local/images/remote/arrow_right.png
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_right
                  style:
                    top: 50%
                    left: 73%
                    width: 15%
                - type: image
                  image: /local/images/remote/arrow_up.png
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_up
                  style:
                    top: 23%
                    left: 50%
                    width: 15%
                - type: image
                  image: /local/images/remote/arrow_down.png
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_down
                  style:
                    top: 77%
                    left: 50%
                    width: 15%
                - type: image
                  image: /local/images/remote/labels/action_menu.png
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_actionmenu
                  style:
                    top: 6%
                    left: 50%
                    width: 45%
                - type: image
                  image: /local/images/remote/labels/guide.png
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_gguide
                  style:
                    top: 23%
                    left: 13%
                    width: 20%
                - type: image
                  image: /local/images/remote/labels/apps.png
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_applicationlauncher
                  style:
                    top: 23%
                    left: 87%
                    width: 20%
                - type: image
                  image: /local/images/remote/labels/back.png
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_return
                  style:
                    top: 77%
                    left: 13%
                    width: 20%
                - type: image
                  image: /local/images/remote/labels/home.png
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_home
                  style:
                    top: 77%
                    left: 87%
                    width: 20%
                - type: image
                  image: /local/images/remote/labels/tv.png
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_tv
                  style:
                    top: 94%
                    left: 50%
                    width: 20%
        # Volume & Channels Buttons
        - type: horizontal-stack
          cards:
            - type: picture-elements
              image: /local/images/remote/backgrounds/bg_volume.png
              elements:
                # Jump
                - type: icon
                  icon: mdi:repeat
                  style:
                    top: 34%
                    left: 65%
                    color: white
                    --iron-icon-height: 16%
                    --iron-icon-width: 16%
                  tap_action:
                    action: none
                - type: image
                  image: /local/images/remote/black_button.png
                  style:
                    top: 46%
                    left: 50%
                    width: 15%
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_jump
                # Volume Mute
                - type: icon
                  icon: mdi:volume-mute
                  style:
                    top: 64%
                    left: 65%
                    color: white
                    --iron-icon-height: 16%
                    --iron-icon-width: 16%
                  tap_action:
                    action: none
                - type: image
                  image: /local/images/remote/black_button.png
                  style:
                    top: 76%
                    left: 50%
                    width: 15%
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_mute
                # Volume Up/Down
                - type: image
                  image: /local/images/remote/labels/volume.png
                  style:
                    top: 15%
                    left: 20%
                    width: 20%
                  tap_action:
                    action: none
                - type: image
                  image: /local/images/remote/chngbtn.png
                  style:
                    top: 60%
                    left: 20%
                    width: 15%
                - type: image
                  image: /local/images/remote/plus.png
                  style:
                    top: 40%
                    left: 20%
                    width: 10%
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_volumeup
                - type: image
                  image: /local/images/remote/minus.png
                  style:
                    top: 80%
                    left: 20%
                    width: 10%
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_volumedown
                # Channels Up/Down
                - type: image
                  image: /local/images/remote/labels/prog.png
                  style:
                    top: 15%
                    left: 80%
                    width: 20%
                  tap_action:
                    action: none
                - type: image
                  image: /local/images/remote/chngbtn.png
                  tap_action:
                    action: call-service
                  style:
                    top: 60%
                    left: 80%
                    width: 15%
                - type: image
                  image: /local/images/remote/plus.png
                  style:
                    top: 40%
                    left: 80%
                    width: 10%
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_channelup
                - type: image
                  image: /local/images/remote/minus.png
                  style:
                    top: 80%
                    left: 80%
                    width: 10%
                  tap_action:
                    action: call-service
                    service: shell_command.bravia_channeldown
        # Play Pause Block
        - type: horizontal-stack
          cards:
            - type: picture-elements
              image: /local/images/remote/backgrounds/bg_volume.png
              elements:
              # First Raw
              # Audio
              - type: image
                image: /local/images/remote/labels/audio.png
                style:
                  top: 10%
                  left: 15%
                  width: 16%
                tap_action:
                  action: none
              - type: image
                image: /local/images/remote/black_button.png
                style:
                  top: 25%
                  left: 15%
                  width: 15%
                tap_action:
                  action: call-service
                  service: shell_command.bravia_audio
              # Rewind
              - type: image
                image: /local/images/remote/black_button.png
                style:
                  top: 25%
                  left: 38%
                  width: 15%
                tap_action:
                  action: none
              - type: icon
                icon: mdi:rewind
                style:
                  top: 25%
                  left: 56%
                  --iron-icon-height: 16%
                  --iron-icon-width: 16%
                  color: white
                tap_action:
                  action: call-service
                  service: shell_command.bravia_rewind
              # Play
              - type: image
                image: /local/images/remote/black_button.png
                style:
                  top: 25%
                  left: 62%
                  width: 15%
                tap_action:
                  action: none
              - type: icon
                icon: mdi:play
                style:
                  top: 25%
                  left: 73%
                  --iron-icon-height: 24%
                  --iron-icon-width: 24%
                  color: white
                tap_action:
                  action: call-service
                  service: shell_command.bravia_play
              # Forward
              - type: image
                image: /local/images/remote/black_button.png
                style:
                  top: 25%
                  left: 85%
                  width: 15%
                tap_action:
                  action: none
              - type: icon
                icon: mdi:fast-forward
                style:
                  top: 25%
                  left: 88%
                  --iron-icon-height: 60%
                  --iron-icon-width: 60%
                  color: white
                tap_action:
                  action: call-service
                  service: shell_command.bravia_forward
              # Second Raw
              # Subtitles
              - type: image
                image: /local/images/remote/black_button.png
                style:
                  top: 50%
                  left: 15%
                  width: 15%
                tap_action:
                  action: none
              - type: icon
                icon: mdi:subtitles-outline
                style:
                  top: 50%
                  left: 42%
                  --iron-icon-height: 9%
                  --iron-icon-width: 9%
                  color: white
                tap_action:
                  action: call-service
                  service: shell_command.bravia_subtitle
              # Prev
              - type: image
                image: /local/images/remote/black_button.png
                style:
                  top: 50%
                  left: 38%
                  width: 15%
                tap_action:
                  action: none
              - type: icon
                icon: mdi:skip-backward
                style:
                  top: 50%
                  left: 56%
                  --iron-icon-height: 15%
                  --iron-icon-width: 15%
                  color: white
                tap_action:
                  action: call-service
                  service: shell_command.bravia_prev
              # Pause
              - type: image
                image: /local/images/remote/black_button.png
                style:
                  top: 50%
                  left: 62%
                  width: 15%
                tap_action:
                  action: none
              - type: icon
                icon: mdi:pause
                style:
                  top: 50%
                  left: 73%
                  --iron-icon-height: 24%
                  --iron-icon-width: 24%
                  color: white
                tap_action:
                  action: call-service
                  service: shell_command.bravia_pause
              # Next
              - type: image
                image: /local/images/remote/black_button.png
                style:
                  top: 50%
                  left: 85%
                  width: 15%
                tap_action:
                  action: none
              - type: icon
                icon: mdi:skip-forward
                style:
                  top: 50%
                  left: 88%
                  --iron-icon-height: 55%
                  --iron-icon-width: 55%
                  color: white
                tap_action:
                  action: call-service
                  service: shell_command.bravia_next
              # Third Raw
              # Help
              - type: image
                image: /local/images/remote/labels/help.png
                style:
                  top: 60%
                  left: 15%
                  width: 16%
                tap_action:
                  action: none
              - type: image
                image: /local/images/remote/black_button.png
                style:
                  top: 75%
                  left: 15%
                  width: 15%
                tap_action:
                  action: call-service
                  service: shell_command.bravia_help
              # Rec
              - type: image
                image: /local/images/remote/labels/rec.png
                style:
                  top: 60%
                  left: 38%
                  width: 16%
              - type: image
                image: /local/images/remote/black_button.png
                style:
                  top: 75%
                  left: 38%
                  width: 15%
                tap_action:
                  action: call-service
                  service: shell_command.bravia_rec
              - type: image
                image: /local/images/remote/labels/rec_button.png
                style:
                  top: 75%
                  left: 38%
                  width: 5%
                tap_action:
                  action: call-service
                  service: shell_command.bravia_rec
              # Stop
              - type: image
                image: /local/images/remote/black_button.png
                style:
                  top: 75%
                  left: 62%
                  width: 15%
                tap_action:
                  action: none
              - type: icon
                icon: mdi:stop
                style:
                  top: 75%
                  left: 73%
                  --iron-icon-height: 24%
                  --iron-icon-width: 24%
                  color: white
                tap_action:
                  action: call-service
                  service: shell_command.bravia_stop
              # Title List
              # GRGR
              - type: image
                image: /local/images/remote/labels/title_list.png
                style:
                  top: 60%
                  left: 85%
                  width: 16%
              - type: image
                image: /local/images/remote/black_button.png
                style:
                  top: 75%
                  left: 85%
                  width: 15%
                tap_action:
                  action: call-service
                  service: shell_command.bravia_forward

        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              color_type: label-card
              color: rgb(46, 46, 46)
              name: S O N Y
              style:
                - background-color: rgb(46, 46, 46)
                - color: white
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              color_type: label-card
              color: rgb(46, 46, 46)
              name: TV
              style:
                - background-color: rgb(46, 46, 46)
                - color: white

      - type: vertical-stack
        title: TV Sala
        cards:
        - type: media-control
          entity: media_player.tv_sala

      # Google Home
      - type: vertical-stack
        title: Google Home Mini
        cards:
        
        - type: entities
          title: Google Mini Home Cucina
          show_header_toggle: false
          entities:
          - media_player.google_home
          - input_text.google_home_speak
        
        - type: horizontal-stack
          cards:
          - type: entity-button
            name: Affare
            icon: mdi:numeric-1
            entity: script.laura_voice
            tap_action:
              action: call-service
              service: script.turn_on
              service_data:
                entity_id: script.laura_voice_1
          - type: entity-button
            name: Belan
            icon: mdi:numeric-2
            entity: script.laura_voice
            tap_action:
              action: call-service
              service: script.turn_on
              service_data:
                entity_id: script.laura_voice_2
          - type: entity-button
            name: Schifezza
            icon: mdi:numeric-3
            entity: script.laura_voice
            tap_action:
              action: call-service
              service: script.turn_on
              service_data:
                entity_id: script.laura_voice_3
          - type: entity-button
            name: Che Schifo è?
            icon: mdi:numeric-4
            entity: script.laura_voice
            tap_action:
              action: call-service
              service: script.turn_on
              service_data:
                entity_id: script.laura_voice_4
                
        - type: horizontal-stack
          cards:
          - type: entity-button
            name: I'm Babu
            icon: mdi:numeric-1
            entity: script.babu_voice
            tap_action:
              action: call-service
              service: script.turn_on
              service_data:
                entity_id: script.babu_voice_1
          - type: entity-button
            name: Heheeeee
            icon: mdi:numeric-2
            entity: script.babu_voice
            tap_action:
              action: call-service
              service: script.turn_on
              service_data:
                entity_id: script.babu_voice_2

######################################################################
# People
######################################################################
  - title: People
    id: people
    icon: mdi:account-multiple
    badges:
      - device_tracker.google_maps_115265981849847357125
      - device_tracker.google_maps_103158638433668748797
      - device_tracker.google_maps_113099283296073047871
      - device_tracker.google_maps_108517379615429477419
    cards:
      - type: map
        #title: Giorgio
        aspect_ratio: 16:9
        default_zoom: 15
        entities:
        - device_tracker.google_maps_115265981849847357125
      - type: map
        #title: Laura
        aspect_ratio: 16:9
        default_zoom: 15
        entities:
        - device_tracker.google_maps_103158638433668748797
      - type: map
        #title: Anna
        aspect_ratio: 16:9
        default_zoom: 15
        entities:
        - device_tracker.google_maps_113099283296073047871
      - type: map
        #title: Assunta
        aspect_ratio: 16:9
        default_zoom: 15
        entities:
        - device_tracker.google_maps_108517379615429477419

######################################################################
# Car
######################################################################
  - title: Auto
    id: car
    icon: mdi:car
    badges:
      - device_tracker.wdd1760081v167576  
      - sensor.ff590mr_odometer
      - sensor.ff590mr_fuel_level
#      - binary_sensor.ff590mr_park_brake_status
#      - binary_sensor.ff590mr_engine_light_warning
      - binary_sensor.ff590mr_locked
      - binary_sensor.ff590mr_doors_closed
      - binary_sensor.ff590mr_windows_closed_2
    cards:
      #- type: gauge
      #  title: "Livello Carburante"
      #  unit: '%'
      #  entity: sensor.ff590mr_tank_level
      #  severity:
      #    red: 0
      #    yellow: 30
      #    green: 60
      #- type: entity-button
      #  name: Blocco/Sblocco Vettura
      #  icon: mdi:key
      #  entity: lock.ff590mr_lock
      - type: entities
        title: "Mercedes A200d: Sensori"
        show_header_toggle: false
        entities:
          #- lock.ff590mr_lock
          - switch.ff590mr_lock
          - binary_sensor.ff590mr_doors_closed
          - binary_sensor.ff590mr_windows_closed_2
          #- binary_sensor.ff590mr_park_brake_status
          #- device_tracker.wdd1760081v167576
      - type: entities
        title: "Mercedes A200d: Allarmi"
        show_header_toggle: false
        entities:
          - binary_sensor.ff590mr_engine_light_warning
          - binary_sensor.ff590mr_warning_brakefluid
          - binary_sensor.ff590mr_warning_washwater
          - binary_sensor.ff590mr_warning_coolantlevellow
      - type: entities
        title: "Mercedes A200d: Pneumatici"
        show_header_toggle: false
        entities:
          - sensor.ff590mr_tire_pressure_front_left
          - sensor.ff590mr_tire_pressure_front_right
          - sensor.ff590mr_tire_pressure_rear_left
          - sensor.ff590mr_tire_pressure_rear_right
      - type: entities
        title: "Mercedes A200d: Porte"
        show_header_toggle: false
        entities:
          - binary_sensor.ff590mr_door_front_left
          - binary_sensor.ff590mr_door_front_right
          - binary_sensor.ff590mr_door_rear_left
          - binary_sensor.ff590mr_door_rear_right
          - binary_sensor.ff590mr_trunk
          - binary_sensor.ff590mr_fuel_lid
      - type: entities
        title: "Mercedes A200d: Finestrini"
        show_header_toggle: false
        entities:
          - binary_sensor.ff590mr_window_front_left
          - binary_sensor.ff590mr_window_front_right
          - binary_sensor.ff590mr_window_rear_left
          - binary_sensor.ff590mr_window_rear_right
      - type: entities
        title: "Mercedes A200d: Dati"
        show_header_toggle: false
        entities:
          - sensor.ff590mr_odometer
          - sensor.ff590mr_distance_since_start
          - sensor.ff590mr_distance_since_reset
          - sensor.ff590mr_fuel_level
          - sensor.ff590mr_liquid_consumption_start
          - sensor.ff590mr_liquid_consumption_reset
          - sensor.ff590mr_service_interval_days
      - type: map
        #title: Mercedes
        aspect_ratio: 16:9
        default_zoom: 15
        entities:
        - device_tracker.wdd1760081v167576

######################################################################
# Train
######################################################################
#  - title: Treni
#    id: train
#    icon: mdi:train
#    cards:
#      - type: entities
#        title: "Savona - Genova Sampierdarena"
#        show_header_toggle: false
#        entities:
#          #- sensor.train_11341
#          #- sensor.train_11233
#          - sensor.treno_7_35
#          #- sensor.train_11283
#      - type: entities
#        title: "Genova Sampierdarena - Savona"
#        show_header_toggle: false
#        entities:
#          - sensor.train_2188
#          - sensor.train_11354

######################################################################
# Power Status
######################################################################
  - title: Monitoraggio Energetico
    id: power
    icon: mdi:flash
    badges:
      - sensor.potenza_istantanea
      - sensor.potenza_reattiva
      - sensor.tensione
    cards:
      - type: sensor
        entity: sensor.potenza_istantanea
        name: Consumo Energetico
        graph: line
        unit: W
        detail: 2
#      - type: sensor
#        entity: sensor.potenza_reattiva
#        name: Potenza Reattiva
#        graph: line
#        unit: var
#        detail: 1
#      - type: sensor
#        entity: sensor.energia_assorbita
#        name: Energia Assorbita
#        graph: line
#        unit: KVh
#        detail: 1
#      - type: sensor
#        entity: sensor.voltaggio
#        name: Voltaggio
#        graph: line
#        unit: V
#        detail: 1

######################################################################
# Network
######################################################################
  - title: Dispositivi di Rete
    id: network
    icon: mdi:lan
    cards:
      - type: glance
        title: External IP 
        entities:
          - sensor.ip_1
          - sensor.ip_2
      - type: glance
        title: Speed Test
        entities:
        - sensor.speedtest_ping
        - sensor.speedtest_download
        - sensor.speedtest_upload          
      - type: glance
        title: pfSense
        entities: 
          - sensor.freebsd_router_kib_sec_received
          - sensor.freebsd_router_kib_sec_sent

######################################################################
# Zigbee
######################################################################
  - title: Zigbee
    id: zigbee
    icon: mdi:zigbee
    #panel: true # this renders the first card on full width, other cards in this view will not be rendered
    cards:
      - type: entities
        title: Stato Sistema Zigbee2mqtt
        show_header_toggle: false
        entities:
          - sensor.zigbee2mqtt_stato_bridge
          - sensor.zigbee2mqtt_stato_permit_join
          - sensor.zigbee2mqtt_stato_log_level
          - sensor.zigbee2mqtt_versione_bridge
          - sensor.zigbee2mqtt_versione_coordinator
          
      - type: entities
        title: Operazioni Sistema Zigbee2mqtt
        show_header_toggle: false
        entities:
          - switch.zigbee2mqtt_abilita_join
          - input_select.zigbee2mqtt_log_level

      - type: entities
        title: Stato Batteria ZigBee Devices
        show_header_toggle: false
        entities:
        - type: custom:battery-entity
          entity: sensor.porta_casa_batteria
        - type: custom:battery-entity
          entity: sensor.porta_casa_2_batteria
        - type: custom:battery-entity
          entity: sensor.pulsante_batteria

      - type: custom:zigbee2mqtt-networkmap
        title: Zigbee2mqtt Network Map
        entity: sensor.zigbee2mqtt_networkmap
        # the following are optional:
        mqtt_base_topic: zigbee2mqtt # if you change base_topic of Zigbee2mqtt, change it accordingly
        force: 3000 # decrease it to get smaller map if you have many devices
        node_size: 16
        font_size: 12
        link_width: 2
        height: 400 # height of the card
        # use this css config or use whatever css tech to change look and feel,
        # the same variable can also be used in Home Assistant themes, see https://www.home-assistant.io/components/frontend/#defining-themes
        css: |
          :host {
            --zigbee2mqtt-networkmap-node-color: rgba(18, 120, 98, .7);
            --zigbee2mqtt-networkmap-node-fill-color: #dcfaf3;
            --zigbee2mqtt-networkmap-node-pinned-color: rgba(190, 56, 93, .6);
            --zigbee2mqtt-networkmap-link-color: rgba(18, 120, 98, .5);
            --zigbee2mqtt-networkmap-hover-color: #be385d;
            --zigbee2mqtt-networkmap-link-selected-color: rgba(202, 164, 85, .6);
            --zigbee2mqtt-networkmap-label-color: #127862;
            --zigbee2mqtt-networkmap-arrow-color: rgba(18, 120, 98, 0.7);
            --zigbee2mqtt-networkmap-node-coordinator-color: rgba(224, 78, 93, .7);
            --zigbee2mqtt-networkmap-node-router-color: rgba(0, 165, 255, .7);
          }

######################################################################
# Alarms
######################################################################
  - title: Allarmi
    id: allarmi
    icon: mdi:alarm-light-outline
    badges:
      - binary_sensor.alarms
    cards:
    - type: entities
      title: Allarmi Casa
      show_header_toggle: false
      entities:
      - input_boolean.alarms
      #- input_boolean.door_alarm
      
######################################################################
# Weather
######################################################################
  - title: Meteo
    id: meteo
    icon: mdi:weather-sunny
    badges:
      - sun.sun
      - sensor.yr_symbol
    cards:
      - type: weather-forecast
        entity: weather.meteo_savona
      - type: weather-forecast
        entity: weather.meteo_morgex
#      - type: entities
#        title: Oggi
#        show_header_toggle: false
#        entities:
#        - sensor.dark_sky_summary
#        - sensor.dark_sky_temperature
#        - sensor.dark_sky_cloud_coverage
#        - sensor.dark_sky_precip_probability
#        - sensor.dark_sky_precip_intensity
#        - sensor.dark_sky_wind_speed
#        - sensor.dark_sky_visibility
#        - sensor.dark_sky_humidity
#        - sensor.dark_sky_pressure
#        - sensor.dark_sky_uv_index
#      - type: entities
#        title: Domani
#        show_header_toggle: false
#        entities:
#        - sensor.dark_sky_summary_0
#        - sensor.dark_sky_daytime_high_temperature_0
#        - sensor.dark_sky_overnight_low_temperature_0
#        - sensor.dark_sky_cloud_coverage_0
#        - sensor.dark_sky_precip_probability_0
#        - sensor.dark_sky_precip_intensity_0
#        - sensor.dark_sky_wind_speed_0
#        - sensor.dark_sky_visibility_0
#        - sensor.dark_sky_humidity_0
#        - sensor.dark_sky_pressure_0
#        - sensor.dark_sky_uv_index_0

######################################################################
# Settings
######################################################################
  - title: Configurazione
    id: settings
    icon: mdi:settings
    badges:
      - binary_sensor.home_mode
      - binary_sensor.guard_mode
      - binary_sensor.speech_notifications
      - binary_sensor.text_notifications
#    panel: true
    cards:
      - type: vertical-stack
        cards:
        - type: entities
          title: Automazioni
          show_header_toggle: false
          entities:
          #- automation.modalita_notte
          - automation.risveglio_giorgio
          #- automation.saluto_di_benvenuto
          #- automation.saluto_orario
        - type: entities
          title: Configurazione Notifiche
          show_header_toggle: false
          entities:
          - input_boolean.speech_notifications
          - input_boolean.text_notifications

      - type: vertical-stack
        cards:
        - type: entities
          title: Controlli
          show_header_toggle: false
          entities:
          - script.homeassistant_restart
          - script.homeassistant_clearlog
          - script.homeassistant_google_home_sync
        - type: entities
          title: Operazione sui Dispositivi
          show_header_toggle: false
          entities:
          - script.shelly_upgrade
          - script.shelly_reboot

      - type: vertical-stack
        cards:
        - type: entities
          title: Informazioni Varie
          show_header_toggle: false
          entities:
          - sensor.home_assistant_current_version
          - sensor.zigbee2mqtt_versione_bridge
          - sensor.zigbee2mqtt_versione_coordinator
          - sensor.ssl_certificate
          - input_boolean.update
