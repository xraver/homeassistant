######################################################################
# Netatmo Package - Script
######################################################################

script:
  ######################################################################
  # Climate: Valve Boost
  # Inputs:
  # - entity_id
  #
  # Operations:
  # - climate.set_hvac_mode
  ######################################################################
  climate_valve_boost:
    alias: "Valvole: Boost"
    sequence:
      - service: climate.set_preset_mode
        data_template:
          entity_id: "{{ entity_id }}"
          preset_mode: boost
      - delay: 300
      - service: climate.set_hvac_mode
        data_template:
          entity_id: "{{ entity_id }}"
          hvac_mode: auto

  ######################################################################
  # Climate: Away Mode On
  # - service: climate.set_preset_mode
  ######################################################################
  climate_away_mode_on:
    sequence:
      - service: climate.set_preset_mode
        data:
          entity_id: 
            - climate.netatmo_cucina
            - climate.netatmo_sala
            - climate.netatmo_studio
            - climate.netatmo_bagno
            - climate.netatmo_camera_da_letto
          preset_mode: away

  ######################################################################
  # Climate: Away Mode Off
  # Note: in summer away mode off is disabled
  # - climate.set_hvac_mode
  ######################################################################
  climate_away_mode_off:
    sequence:
      - service: climate.set_hvac_mode
        data:
          entity_id: 
            - climate.netatmo_cucina
            - climate.netatmo_sala
            - climate.netatmo_studio
            - climate.netatmo_bagno
            - climate.netatmo_camera_da_letto
          hvac_mode: auto
