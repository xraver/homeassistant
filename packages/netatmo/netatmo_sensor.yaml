######################################################################
# Netatmo Package - Sensor
######################################################################

template:

  ######################################################################
  # Sensor: Temperature from Radiator Valve
  ######################################################################
  - sensor:
      - name: "valvola_zona_giorno_temperature"
        unique_id: valvola_zona_giorno_temperature
        state: "{{ state_attr('climate.zona_giorno', 'current_temperature') }}"
        unit_of_measurement: "°C"
        device_class: temperature

  - sensor:
      - name: "valvola_cucina_temperature"
        unique_id: valvola_cucina_temperature
        state: "{{ state_attr('climate.cucina', 'current_temperature') }}"
        unit_of_measurement: "°C"
        device_class: temperature

  - sensor:
      - name: "valvola_sala_temperature"
        unique_id: valvola_sala_temperature
        state: "{{ state_attr('climate.sala', 'current_temperature') }}"
        unit_of_measurement: "°C"
        device_class: temperature

  - sensor:
      - name: "valvola_studio_temperature"
        unique_id: valvola_studio_temperature
        state: "{{ state_attr('climate.studio', 'current_temperature') }}"
        unit_of_measurement: "°C"
        device_class: temperature

  - sensor:
      - name: "valvola_bagno_piccolo_temperature"
        unique_id: valvola_bagno_piccolo_temperature
        state: "{{ state_attr('climate.bagno_piccolo', 'current_temperature') }}"
        unit_of_measurement: "°C"
        device_class: temperature

  - sensor:
      - name: "valvola_bagno_grande_temperature"
        unique_id: valvola_bagno_grande_temperature
        state: "{{ state_attr('climate.bagno_grande', 'current_temperature') }}"
        unit_of_measurement: "°C"
        device_class: temperature

  - sensor:
      - name: "valvola_camera_temperature"
        unique_id: valvola_camera_temperature
        state: "{{ state_attr('climate.camera', 'current_temperature') }}"
        unit_of_measurement: "°C"
        device_class: temperature

  ######################################################################
  # Sensor: State from Radiator Valve
  ######################################################################
  - sensor:
      - name: "valvola_zona_giorno_state"
        unique_id: valvola_zona_giorno_state
        state: "{{ state_attr('climate.zona_giorno', 'hvac_action') }}"
        icon: >
          {% if is_state_attr('climate.zona_giorno', 'hvac_action', 'idle') %}
            mdi:radiator-disabled
          {% else %}
            mdi:radiator
          {% endif %}

  - sensor:
      - name: "valvola_cucina_state"
        unique_id: valvola_cucina_state
        state: "{{ state_attr('climate.cucina', 'hvac_action') }}"
        icon: >
          {% if is_state_attr('climate.cucina', 'hvac_action', 'idle') %}
            mdi:radiator-disabled
          {% else %}
            mdi:radiator
          {% endif %}

  - sensor:
      - name: "valvola_sala_state"
        unique_id: valvola_sala_state
        state: "{{ state_attr('climate.sala', 'hvac_action') }}"
        icon: >
          {% if is_state_attr('climate.sala', 'hvac_action', 'idle') %}
            mdi:radiator-disabled
          {% else %}
            mdi:radiator
          {% endif %}

  - sensor:
      - name: "valvola_studio_state"
        unique_id: valvola_studio_state
        state: "{{ state_attr('climate.studio', 'hvac_action') }}"
        icon: >
          {% if is_state_attr('climate.studio', 'hvac_action', 'idle') %}
            mdi:radiator-disabled
          {% else %}
            mdi:radiator
          {% endif %}

  - sensor:
      - name: "valvola_bagno_piccolo_state"
        unique_id: valvola_bagno_piccolo_state
        state: "{{ state_attr('climate.bagno_piccolo', 'hvac_action') }}"
        icon: >
          {% if is_state_attr('climate.bagno_piccolo', 'hvac_action', 'idle') %}
            mdi:radiator-disabled
          {% else %}
            mdi:radiator
          {% endif %}

  - sensor:
      - name: "valvola_bagno_grande_state"
        unique_id: valvola_bagno_grande_state
        state: "{{ state_attr('climate.bagno_grande', 'hvac_action') }}"
        icon: >
          {% if is_state_attr('climate.bagno_grande', 'hvac_action', 'idle') %}
            mdi:radiator-disabled
          {% else %}
            mdi:radiator
          {% endif %}

  - sensor:
      - name: "valvola_camera_state"
        unique_id: valvola_camera_state
        state: "{{ state_attr('climate.camera', 'hvac_action') }}"
        icon: >
          {% if is_state_attr('climate.camera', 'hvac_action', 'idle') %}
            mdi:radiator-disabled
          {% else %}
            mdi:radiator
          {% endif %}
